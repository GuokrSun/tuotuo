<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width" />
    <meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <title>坨坨德</title>
    <link rel="icon" type="image/png" href="./image/favicon.ico" sizes="16x16">
    <link rel="stylesheet" href="./css/weui.min.css">
    <link rel="stylesheet" href="./css/example.css">
    <link rel="stylesheet" href="./css/mine.css">
</head>
<body class="mime">
    <div class="page input js_show">
    <div class="page__hd">
        <h1 class="page__title">哇咔咔</h1>
        <p class="page__desc">坨坨德</p>
    </div>
    <div class="page__bd">
        <div class="weui-cells__title">粘贴的文本</div>
        <div class="weui-cells weui-cells_form">
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <textarea class="weui-textarea" placeholder="粘贴的文本" rows="8" id="Paste"></textarea>
                </div>
            </div>
        </div>
        <div class="weui-cell weui-cell_select weui-cell_select-after">
            <div class="weui-cell__hd">
                <label class="weui-label" style="width: 3em;">产品</label>
            </div>
            <div class="weui-cell__bd">
                <select class="weui-select" name="product" id="product">
                    <option value="1">木美土里微生物菌剂(粉剂)-2亿40kg</option>
                    <option value="2">木美土里富桥微生物菌剂（粉剂）-2亿40kg</option>
                    <option value="3">木美土里中微量元素菌肥（粉剂）-红袋20kg</option>
                    <option value="4">枫丹百丽微生物菌剂（粉剂）-2亿40kg</option>
                    <option value="5">绿色家族微生物菌剂（粉剂）-2亿40kg</option>
                    <option value="6">枫丹百丽中微量元素20kg</option>
                    <option value="7">木美土里优质有机肥（粉剂）40kg</option>
                    <option value="8">绿色家族优质有机肥（粉剂）40kg</option>
                    <option value="9">根果良品微生物菌剂（粉剂）40kg</option>
                    <option value="10">根果良品中微量元素菌剂（粉剂）20kg</option>
                    <option value="11">根果良品有机肥（粉剂）40kg</option>
                    <option value="12">疏沃生物有机肥(粉剂)40kg</option>
                    <option value="13">欣沃达微生物菌剂(粉剂)-2亿40kg</option>
                    <option value="14">木美土里发粪宝500ml/瓶(2瓶装)</option>
                    <option value="15">枫丹百丽有机肥(粉剂)40kg</option>
                </select>
            </div>
        </div>
        <div class="weui-cell">
            <div class="weui-cell__hd"><label class="weui-label" style="width: 3em;">地址</label></div>
            <div class="weui-cell__bd">
                <input class="weui-input" type="text" id="addr" placeholder="请输入地址">
            </div>
        </div>
        <div class="weui-btn-area">
            <a class="weui-btn weui-btn_primary" href="javascript:generate(this)">生成</a>
        </div>
        <div class="weui-cells__title">生成的文本</div>
        <div class="weui-cells weui-cells_form">
            <div class="weui-cell">
                <div class="weui-cell__bd">
                    <textarea class="weui-textarea" placeholder="生成的文本" rows="8" id="generate"></textarea>
                </div>
            </div>
        </div>
        <div class="weui-btn-area">
            <a class="weui-btn weui-btn_primary" href="javascript:copy(this)">复制到粘贴板</a>
        </div>
    </div>
</div>
</body>
<script src="./js/jquery-1.12.4.min.js"></script>
<script src="./js/weui.min.js"></script>
<script type="text/javascript">
    $(function(){
    });
    //生成
    function generate(el) {
        let Paste = $('#Paste').val();
        Paste = Paste.split('\n');
        const length = Paste.length
        let zong = Paste[0].substr(2,1)
        if (zong === ':' || zong === '：') {
            zong = Paste[0].substr(3,1)
        }
        let company = Paste[1];
        if (company.search("枫丹百丽") != -1) {
            company = '枫丹百丽'
        } else if (company.search("木美土里") != -1) {
            company = '木美土里'
        } else if (company.search("欣沃达") != -1) {
            company = '欣沃达'
        } else if (company.search("疏沃") != -1) {
            company = '疏沃'
        } else if (company.search("绿色家族") != -1) {
            company = '绿色家族'
        } else if (company.search("根果良品") != -1) {
            company = '根果良品'
        }
        const ji = $('#product option:checked').text();
        const addr = $('#addr').val();
        const dun = Paste[1].replace(/[^0-9]/ig,"");
        const tel = Paste[length-2].replace(/[^0-9]/ig,"");
        const money = Paste[length-1].split('吨')[0].replace(/[^0-9]/ig,"");
        $('#generate').val(`${zong}总，您好！${company}${getDate()}${addr}供货${ji} ${dun}吨，运费到付每吨${money}元，司机电话：${tel}，请您查收！感谢您对我公司的支持！合作愉快！`);
    }
    // 复制
    function copy(el) {
        var Url2=document.getElementById("generate");
        Url2.select(); // 选择对象
        document.execCommand("Copy"); // 执行浏览器复制命令
    }
    // 日期
    function getDate() {
        const date = new Date();
        const M = date.getMonth()+1;
        const D = date.getDate() ;
        return M+'月'+D+'日';
    }
</script>
</html>